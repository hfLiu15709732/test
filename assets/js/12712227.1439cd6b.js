"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3729],{3905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>g});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},m=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},s="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,m=u(e,["components","mdxType","originalType","parentName"]),s=p(n),d=o,g=s["".concat(l,".").concat(d)]||s[d]||c[d]||a;return n?r.createElement(g,i(i({ref:t},m),{},{components:n})):r.createElement(g,i({ref:t},m))}));function g(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=d;var u={};for(var l in t)hasOwnProperty.call(t,l)&&(u[l]=t[l]);u.originalType=e,u[s]="string"==typeof e?e:o,i[1]=u;for(var p=2;p<a;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},1739:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>c,frontMatter:()=>a,metadata:()=>u,toc:()=>p});var r=n(7462),o=(n(7294),n(3905));const a={slug:"vue-router",title:"4. Vue-router \u8def\u7531\u7ba1\u7406",tags:["\u524d\u7aef\u8def\u7531","Vue-router","Vue"]},i=void 0,u={unversionedId:"FrontEnd/vue/router",id:"FrontEnd/vue/router",title:"4. Vue-router \u8def\u7531\u7ba1\u7406",description:"1.\u7406\u8bba\u77e5\u8bc6",source:"@site/docs/FrontEnd/vue/04-router.md",sourceDirName:"FrontEnd/vue",slug:"/FrontEnd/vue/vue-router",permalink:"/test/docs/FrontEnd/vue/vue-router",draft:!1,editUrl:"https://github.com/hfLiu15709732/docs/FrontEnd/vue/04-router.md",tags:[{label:"\u524d\u7aef\u8def\u7531",permalink:"/test/docs/tags/\u524d\u7aef\u8def\u7531"},{label:"Vue-router",permalink:"/test/docs/tags/vue-router"},{label:"Vue",permalink:"/test/docs/tags/vue"}],version:"current",sidebarPosition:4,frontMatter:{slug:"vue-router",title:"4. Vue-router \u8def\u7531\u7ba1\u7406",tags:["\u524d\u7aef\u8def\u7531","Vue-router","Vue"]},sidebar:"frontSidebar",previous:{title:"3. Vue \u7f51\u7edc\u8bf7\u6c42",permalink:"/test/docs/FrontEnd/vue/vue-axios"},next:{title:"5. Vue\u96c6\u4e2d\u5f0f\u72b6\u6001\u7ba1\u7406",permalink:"/test/docs/FrontEnd/vue/vuex"}},l={},p=[{value:"1.\u7406\u8bba\u77e5\u8bc6",id:"1\u7406\u8bba\u77e5\u8bc6",level:2},{value:"2.\u5feb\u901f\u5f00\u59cb",id:"2\u5feb\u901f\u5f00\u59cb",level:2},{value:"3.\u8def\u7531\u8df3\u8f6c\u65b9\u5f0f",id:"3\u8def\u7531\u8df3\u8f6c\u65b9\u5f0f",level:2},{value:"3.1 \u547d\u540d\u8def\u7531",id:"31-\u547d\u540d\u8def\u7531",level:3},{value:"3.2 \u7f16\u7a0b\u8def\u7531",id:"32-\u7f16\u7a0b\u8def\u7531",level:3},{value:"3.3 \u5386\u53f2\u6a2a\u8de8",id:"33-\u5386\u53f2\u6a2a\u8de8",level:3},{value:"4 \u5d4c\u5957\u5f0f\u8def\u7531",id:"4-\u5d4c\u5957\u5f0f\u8def\u7531",level:2},{value:"5 \u547d\u540d\u89c6\u56fe",id:"5-\u547d\u540d\u89c6\u56fe",level:2},{value:"6 \u8def\u7531\u91cd\u5b9a\u5411",id:"6-\u8def\u7531\u91cd\u5b9a\u5411",level:2},{value:"7. \u8def\u7531\u522b\u540d",id:"7-\u8def\u7531\u522b\u540d",level:2},{value:"8. \u8def\u7531\u4f20\u53c2",id:"8-\u8def\u7531\u4f20\u53c2",level:2},{value:"8.1 \u52a8\u6001\u8def\u7531\u4f20\u53c2",id:"81-\u52a8\u6001\u8def\u7531\u4f20\u53c2",level:3},{value:"8.2 Query \u4f20\u53c2",id:"82-query-\u4f20\u53c2",level:3},{value:"8.3 Params \u4f20\u53c2",id:"83-params-\u4f20\u53c2",level:3},{value:"9. \u8def\u7531\u5b88\u536b",id:"9-\u8def\u7531\u5b88\u536b",level:2},{value:"9.1 \u524d\u7f6e\u5b88\u536b",id:"91-\u524d\u7f6e\u5b88\u536b",level:3},{value:"9.2 \u540e\u7f6e\u5b88\u536b",id:"92-\u540e\u7f6e\u5b88\u536b",level:3}],m={toc:p},s="wrapper";function c(e){let{components:t,...n}=e;return(0,o.kt)(s,(0,r.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"1\u7406\u8bba\u77e5\u8bc6"},"1.\u7406\u8bba\u77e5\u8bc6"),(0,o.kt)("admonition",{title:"\u539f\u56e0",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"\u56e0\u4e3a vue \u662f\u5355\u9875\u5e94\u7528\uff0c\u6ca1\u6709\u5f88\u591a html \u8df3\u8f6c \uff0c\u5fc5\u987b\u8981\u4f7f\u7528\u8def\u7531\u505a\u9875\u9762\u7684\u8df3\u8f6c"),(0,o.kt)("p",{parentName:"admonition"},"Vue \u8def\u7531\u5141\u8bb8\u6211\u4eec\u901a\u8fc7\u4e0d\u540c\u7684 URL \u8bbf\u95ee\u4e0d\u540c\u7684\u5185\u5bb9\uff0c\u5373\u4f7f\u7528 URL \u4e0e\u7ec4\u4ef6\u4e4b\u95f4\u7684\u6620\u5c04")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="\u57fa\u7840\u5b89\u88c5"',title:'"\u57fa\u7840\u5b89\u88c5"'},"\nnpm init vue@latest\n//\u6216\u8005\nnpm init vite@latest\n//Vue\u9879\u76ee\u521b\u5efa\n\n\n\n\nnpm i vue-router --save\n//\u6216\u8005\nnpm install vue-router@4\n//\u6ce8\u610fVue2\u4e0eVue3\u7684\u8def\u7531\u4e0d\u517c\u5bb9\uff0c\u4f7f\u7528Vue3\u7684\u8bdd\u9700\u8981\u4f7f\u7528Router4\n")),(0,o.kt)("h2",{id:"2\u5feb\u901f\u5f00\u59cb"},"2.\u5feb\u901f\u5f00\u59cb"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\u57fa\u7840\u6a21\u5f0f\u5bf9\u6bd4")),(0,o.kt)("p",null,"//vue2 mode history vue3 createWebHistory\n//vue2 mode hash vue3 createWebHashHistory\n//vue2 mode abstact vue3 createMemoryHistory"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\u521b\u5efa\u8def\u7531\u6587\u4ef6")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="/src/router/index.jsx"',title:'"/src/router/index.jsx"'},'//\u5f15\u5165\u8def\u7531\u5bf9\u8c61\nimport {\n    createRouter,\n    createWebHistory,\n    createWebHashHistory,\n    createMemoryHistory,\n    RouteRecordRaw,\n} from "vue-router";\n\n//\u8def\u7531\u6570\u7ec4\u7684\u7c7b\u578b RouteRecordRaw\n// \u5b9a\u4e49\u4e00\u4e9b\u8def\u7531\n// \u6bcf\u4e2a\u8def\u7531\u90fd\u9700\u8981\u6620\u5c04\u5230\u4e00\u4e2a\u7ec4\u4ef6\u3002\nconst routes: Array<RouteRecordRaw> = [\n    {\n        path: "/",\n        component: () => import("../components/Login.vue"), //lazy \u61d2\u52a0\u8f7d\n    },\n    {\n        path: "/register",\n        component: () => import("../components/Register.vue"),\n    },\n    {\n        path: "/mian",\n        component: () => import("../components/main.vue"),\n    },\n];\n\nconst router = createRouter({\n    history: createWebHistory(),\n    routes,\n});\n\n//\u5bfc\u51farouter\nexport default router;\n')),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\u8def\u7531\u6302\u8f7d")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="/src/main.js"',title:'"/src/main.js"'},'import { createApp } from "vue";\nimport App from "./App.vue";\nimport router from "./router";\ncreateApp(App).use(router).mount("#app");\n')),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\u57fa\u7840\u7684\u8def\u7531\u7ec4\u4ef6\u586b\u5145\u4e0e\u8df3\u8f6c")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx"},'<template>\n    <div>\n        <h1>\u5c0f\u6ee1\u6700\u9a9a</h1>\n        <div>\n            \x3c!--\u4f7f\u7528 router-link \u7ec4\u4ef6\u8fdb\u884c\u5bfc\u822a --\x3e\n            \x3c!--\u901a\u8fc7\u4f20\u9012 `to` \u6765\u6307\u5b9a\u94fe\u63a5 --\x3e\n            \x3c!--`<router-link>` \u5c06\u5448\u73b0\u4e00\u4e2a\u5e26\u6709\u6b63\u786e `href` \u5c5e\u6027\u7684 `<a>` \u6807\u7b7e--\x3e\n            <router-link tag="div" to="/">\u8df3\u8f6ca</router-link>\n            <router-link tag="div" style="margin-left:200px" to="/register">\u8df3\u8f6cb</router-link>\n        </div>\n        <hr />\n        \x3c!-- \u8def\u7531\u51fa\u53e3 --\x3e\n        \x3c!-- \u8def\u7531\u5339\u914d\u5230\u7684\u7ec4\u4ef6\u5c06\u6e32\u67d3\u5728\u8fd9\u91cc --\x3e\n        <router-view></router-view>\n    </div>\n</template>\n')),(0,o.kt)("h2",{id:"3\u8def\u7531\u8df3\u8f6c\u65b9\u5f0f"},"3.\u8def\u7531\u8df3\u8f6c\u65b9\u5f0f"),(0,o.kt)("h3",{id:"31-\u547d\u540d\u8def\u7531"},"3.1 \u547d\u540d\u8def\u7531"),(0,o.kt)("admonition",{title:"\u539f\u7406",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"\u4ee5 name \u4f5c\u4e3a\u8def\u7531\u7f16\u53f7\u8fdb\u884c\u8df3\u8f6c\uff0c\u8df3\u8f6c\u65f6\u4e0d\u7528\u6574\u7e41\u7410\u7684 url \u8def\u5f84")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="/src/router/index.jsx"',title:'"/src/router/index.jsx"'},'const routes: Array<RouteRecordRaw> = [\n    {\n        path: "/",\n        name: "Login",\n        component: () => import("../components/login.vue"),\n    },\n    {\n        path: "/reg",\n        name: "Reg",\n        component: () => import("../components/reg.vue"),\n    },\n];\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="/src/app.vue"',title:'"/src/app.vue"'},'<h2>\u547d\u540d\u8def\u7531</h2>\n<div>\n  <router-link :to="{name:\'Login\'}">Login</router-link>\n  <router-link style="margin-left:10px" :to="{name:\'Reg\'}">Reg</router-link>\n\n\n\n  <router-link replace to="/">Login</router-link>\n    <router-link replace style="margin-left:10px" to="/reg">Reg</router-link>\n</div>\n<hr />\n')),(0,o.kt)("h3",{id:"32-\u7f16\u7a0b\u8def\u7531"},"3.2 \u7f16\u7a0b\u8def\u7531"),(0,o.kt)("admonition",{title:"\u539f\u7406",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"\u76f4\u63a5\u4f7f\u7528 Vue-router \u5df2\u7ecf\u88c5\u5efa\u597d\u7684\u8def\u7531\u5b9e\u4f8b\u8fdb\u884c\u5bf9\u8def\u5f84\u7ba1\u7406")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'import { useRouter } from "vue-router";\nconst router = useRouter();\n\nconst toPage = () => {\n    router.push("/reg");\n};\n\n//\u6216\u8005\nconst toPage = () => {\n    router.push({\n        path: "/reg",\n    });\n};\n\n//\u6216\u8005\n\nconst toPage = () => {\n    router.push({\n        name: "Reg",\n    });\n};\n\n//\u6216\u8005replace\u66ff\u4ee3\u8fdb\u884c\n\nconst toPage = (url: string) => {\n    router.replace(url);\n};\n')),(0,o.kt)("h3",{id:"33-\u5386\u53f2\u6a2a\u8de8"},"3.3 \u5386\u53f2\u6a2a\u8de8"),(0,o.kt)("admonition",{title:"\u539f\u7406",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"\u91c7\u7528\u4e00\u4e2a\u6574\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u8868\u793a\u5728\u5386\u53f2\u5806\u6808\u4e2d\u524d\u8fdb\u6216\u540e\u9000\u591a\u5c11\u6b65")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const next = () => {\n    //\u524d\u8fdb \u6570\u91cf\u4e0d\u9650\u4e8e1\n    router.go(1);\n};\n\nconst prev = () => {\n    //\u540e\u9000\n    router.back();\n};\n")),(0,o.kt)("h2",{id:"4-\u5d4c\u5957\u5f0f\u8def\u7531"},"4 \u5d4c\u5957\u5f0f\u8def\u7531"),(0,o.kt)("admonition",{title:"\u539f\u7406",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"\u672c\u8d28\u672c\u8d28\u5c31\u662f\u7236\u8def\u7531\u5305\u542b\u5b50\u8def\u7531\uff0c\u5b50\u8def\u7531\u5207\u6362\u4e0e\u663e\u793a\u65f6 \u5b50\u8def\u7531\u4e5f\u4f1a\u663e\u793a\u51fa\u6765")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'const routes: Array<RouteRecordRaw> = [\n    {\n        path: "/user",\n        component: () => import("../components/footer.vue"),\n        children: [\n            {\n                path: "",\n                name: "Login",\n                component: () => import("../components/login.vue"),\n            },\n            {\n                path: "reg",\n                name: "Reg",\n                component: () => import("../components/reg.vue"),\n            },\n        ],\n    },\n];\n')),(0,o.kt)("admonition",{title:"\u5b50\u8def\u7531\u7ec4\u4ef6\u4f7f\u7528",type:"info"},(0,o.kt)("p",{parentName:"admonition"},"\u4f7f\u7528\u5b50\u8def\u7531\u5c31\u662f\u5728\u7236\u7ea7\u7ec4\u4ef6\u4e0a\u7ee7\u7eed\u5199 router-view \u5c31\u53ef\u4ee5")),(0,o.kt)("h2",{id:"5-\u547d\u540d\u89c6\u56fe"},"5 \u547d\u540d\u89c6\u56fe"),(0,o.kt)("admonition",{title:"\u5e94\u7528\u573a\u666f",type:"danger"},(0,o.kt)("p",{parentName:"admonition"},"\u5728\u4e00\u4e2a\u8def\u7531\u7ec4\u4ef6\u4e2d\uff0c\u60f3\u8ba9 router-view \u663e\u793a\u5728\u4e00\u4e2a\u7ec4\u4ef6\u4e2d\u7684\u4e0d\u540c\u4f4d\u7f6e\uff0c\u533a\u5206\u4e0d\u540c\u7684 router-view \u9700\u8981\u4f7f\u7528\u547d\u540d\u89c6\u56fe")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\u8def\u7531\u521b\u5efa\u90e8\u5206")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'import { createRouter, createWebHistory, RouteRecordRaw } from "vue-router";\n\nconst routes: Array<RouteRecordRaw> = [\n    {\n        path: "/",\n        components: {\n            default: () => import("../components/layout/menu.vue"),\n            header: () => import("../components/layout/header.vue"),\n            content: () => import("../components/layout/content.vue"),\n        },\n    },\n];\n\nconst router = createRouter({\n    history: createWebHistory(),\n    routes,\n});\n\nexport default router;\n')),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\u8def\u7531\u4f7f\u7528\u90e8\u5206")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},'<div>\n    <router-view></router-view>\n    <router-view name="header"></router-view>\n    <router-view name="content"></router-view>\n</div>\n')),(0,o.kt)("h2",{id:"6-\u8def\u7531\u91cd\u5b9a\u5411"},"6 \u8def\u7531\u91cd\u5b9a\u5411"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'const routes: Array<RouteRecordRaw> = [\n    {\n        path: "/user",\n        component: () => import("../components/footer.vue"),\n        redirect: "/login",\n        //\u6216\u8005\n        redirect: { path: "/login" },\n        //\u6216\u8005\n        redirect: { name: "Login" },\n        //\u6216\u8005\u8fdb\u884c\u4f20\u53c2\n        redirect: (to) => {\n            return {\n                path: "/login",\n                query: to.query, //\u5c06\u7236\u7ea7\u53c2\u6570\u4f20\u9012\n            };\n        },\n        children: [\n            {\n                path: "",\n                name: "Login",\n                component: () => import("../components/login.vue"),\n            },\n            {\n                path: "reg",\n                name: "Reg",\n                component: () => import("../components/reg.vue"),\n            },\n        ],\n    },\n];\n')),(0,o.kt)("h2",{id:"7-\u8def\u7531\u522b\u540d"},"7. \u8def\u7531\u522b\u540d"),(0,o.kt)("admonition",{title:"\u539f\u7406",type:"info"},(0,o.kt)("p",{parentName:"admonition"},"\u5b9e\u73b0\u4e86\u4e00\u4e2a\u7ec4\u4ef6\u5bf9\u5e94\u591a\u4e2a URL \u8def\u5f84")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'const routes: Array<RouteRecordRaw> = [\n    {\n        path: "/user",\n        component: () => import("../components/footer.vue"),\n        alias: ["/user1", "/user2", "/user3"],\n        children: [\n            {\n                path: "",\n                name: "Login",\n                component: () => import("../components/login.vue"),\n            },\n            {\n                path: "reg",\n                name: "Reg",\n                component: () => import("../components/reg.vue"),\n            },\n        ],\n    },\n];\n')),(0,o.kt)("h2",{id:"8-\u8def\u7531\u4f20\u53c2"},"8. \u8def\u7531\u4f20\u53c2"),(0,o.kt)("h3",{id:"81-\u52a8\u6001\u8def\u7531\u4f20\u53c2"},"8.1 \u52a8\u6001\u8def\u7531\u4f20\u53c2"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\u8bbe\u7f6e\u76f8\u5173\u53c2\u6570")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx"},'const routes: Array<RouteRecordRaw> = [\n    {\n        path: "/",\n        name: "Login",\n        component: () => import("../components/login.vue"),\n    },\n    {\n        //\u52a8\u6001\u8def\u7531\u53c2\u6570\n        path: "/reg/:id",\n        name: "Reg",\n        component: () => import("../components/reg.vue"),\n    },\n];\n')),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\u7ec4\u4ef6\u4f20\u53c2")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx"},'const toDetail = (item: Item) => {\n    router.push({\n        name: "Reg",\n        params: {\n            id: item.id,\n        },\n    });\n};\n')),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\u63a5\u6536\u53c2\u6570")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx"},'import { useRoute } from "vue-router";\nimport { data } from "./list.json";\nconst route = useRoute();\n\nconst item = data.find((v) => v.id === Number(route.params.id));\n')),(0,o.kt)("h3",{id:"82-query-\u4f20\u53c2"},"8.2 Query \u4f20\u53c2"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\u7ec4\u4ef6\u4f20\u53c2")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx"},'const toDetail = (item: Item) => {\n    router.push({\n        path: "/reg",\n        query: item,\n    });\n};\n')),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\u63a5\u6536\u53c2\u6570")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx"},"import { useRoute } from 'vue-router';\nconst route = useRoute()\n\n\n\n <div>\u53c2\u6570\u5c5e\u60271\uff1a{{ route.query?.name }}</div>\n <div>\u53c2\u6570\u5c5e\u60272\uff1a{{ route.query?.price }}</div>\n <div>\u53c2\u6570\u5c5e\u60273\uff1a{{ route.query?.id }}</div>\n")),(0,o.kt)("h3",{id:"83-params-\u4f20\u53c2"},"8.3 Params \u4f20\u53c2"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\u7ec4\u4ef6\u4f20\u53c2")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx"},'const toDetail = (item: Item) => {\n    router.push({\n        name: "Reg",\n        params: item,\n    });\n};\n')),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\u63a5\u6536\u53c2\u6570")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx"},"import { useRoute } from 'vue-router';\nconst route = useRoute()\n\n\n\n<div>\u540d\u79f0\u5c5e\u6027\uff1a{{ route.params?.name }}</div>\n<div>\u4ef7\u683c\u5c5e\u6027\uff1a{{ route.params?.price }}</div>\n<div>\u7f16\u53f7\u5c5e\u6027\uff1a{{ route.params?.id }}</div>\n")),(0,o.kt)("h2",{id:"9-\u8def\u7531\u5b88\u536b"},"9. \u8def\u7531\u5b88\u536b"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\u76f8\u5173\u53c2\u6570\u7528\u5904")),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"\u53c2\u6570\u540d\u79f0"),(0,o.kt)("th",{parentName:"tr",align:null},"\u53c2\u6570\u7528\u5904"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"to"),(0,o.kt)("td",{parentName:"tr",align:null},"\u5373\u5c06\u8981\u8fdb\u5165\u7684\u76ee\u6807 \u8def\u7531\u5bf9\u8c61")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"from"),(0,o.kt)("td",{parentName:"tr",align:null},"\u5f53\u524d\u5bfc\u822a\u6b63\u8981\u79bb\u5f00\u7684\u8def\u7531")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"next()"),(0,o.kt)("td",{parentName:"tr",align:null},"\u8fdb\u884c\u7ba1\u9053\u4e2d\u7684\u4e0b\u4e00\u4e2a\u94a9\u5b50\u3002\u5982\u679c\u5168\u90e8\u94a9\u5b50\u6267\u884c\u5b8c\u4e86\uff0c\u5219\u5bfc\u822a\u7684\u72b6\u6001\u5c31\u662f confirmed (\u786e\u8ba4\u7684)")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"next(false)"),(0,o.kt)("td",{parentName:"tr",align:null},"\u4e2d\u65ad\u5f53\u524d\u7684\u5bfc\u822a\u3002\u5982\u679c\u6d4f\u89c8\u5668\u7684 URL \u6539\u53d8\u4e86 (\u53ef\u80fd\u662f\u7528\u6237\u624b\u52a8\u6216\u8005\u6d4f\u89c8\u5668\u540e\u9000\u6309\u94ae)\uff0c\u90a3\u4e48 URL \u5730\u5740\u4f1a\u91cd\u7f6e\u5230 from \u8def\u7531\u5bf9\u5e94\u7684\u5730\u5740")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"next('/')\u6216\u8005 next({ path: '/' })"),(0,o.kt)("td",{parentName:"tr",align:null},"\u8df3\u8f6c\u5230\u4e00\u4e2a\u4e0d\u540c\u7684\u5730\u5740\u3002\u5f53\u524d\u7684\u5bfc\u822a\u88ab\u4e2d\u65ad\uff0c\u7136\u540e\u8fdb\u884c\u4e00\u4e2a\u65b0\u7684\u5bfc\u822a")))),(0,o.kt)("h3",{id:"91-\u524d\u7f6e\u5b88\u536b"},"9.1 \u524d\u7f6e\u5b88\u536b"),(0,o.kt)("admonition",{title:"\u539f\u7406",type:"info"},(0,o.kt)("p",{parentName:"admonition"},"\u5b9e\u73b0\u5728\u8def\u7531\u8df3\u8f6c\u524d\u6267\u884c\u7684\u51fd\u6570"),(0,o.kt)("p",{parentName:"admonition"},"\u4e00\u822c\u7528\u4e8e:\u8eab\u4efd\u9274\u6743")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="\u4e00\u79cd\u5f62\u5f0f\u5b9e\u73b0\u9274\u6743"',title:'"\u4e00\u79cd\u5f62\u5f0f\u5b9e\u73b0\u9274\u6743"'},'const whiteList = ["/", "/login", "/admin"]; //\u8def\u7531\u767d\u540d\u5355\n\n//\u5168\u5c40\u524d\u7f6e\u5b88\u536b\nrouter.beforeEach((to, from, next) => {\n    Vnode.component?.exposed?.startLoading(); //loadingBar\n\n    let token = localStorage.getItem("token");\n    //\u767d\u540d\u5355 \u6709\u503c \u6216\u8005\u767b\u9646\u8fc7\u5b58\u50a8\u4e86token\u4fe1\u606f\u53ef\u4ee5\u8df3\u8f6c \u5426\u5219\u5c31\u53bb\u767b\u5f55\u9875\u9762\n    if (whiteList.includes(to.path) || token) {\n        //token\u6bcf\u6b21\u90fd\u8981\u8ddf\u540e\u7aef\u6821\u9a8c\u4e00\u4e0b\u662f\u5426\u8fc7\u671f\n    }\n});\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="\u7b2c\u4e8c\u79cd\u5f62\u5f0f\u5b9e\u73b0\u9274\u6743 \u4e00\u4e2a\u5b8c\u6574\u7684\u6848\u4f8b"',title:'"\u7b2c\u4e8c\u79cd\u5f62\u5f0f\u5b9e\u73b0\u9274\u6743','\u4e00\u4e2a\u5b8c\u6574\u7684\u6848\u4f8b"':!0},'import { createRouter, createWebHistory } from "vue-router";\nimport HomeView from "../views/HomeView.vue";\nimport AboutView from "../views/AboutView.vue";\nimport NewsViews from "../views/NewsView.vue";\nimport NewsDetail from "../views/NewsDetail.vue";\nimport NewsType from "../views/NewsType.vue";\n\nconst router = createRouter({\n    history: createWebHistory(),\n    routes: [\n        {\n            path: "/",\n            name: "home",\n            component: HomeView,\n            meta: { transition: "slide-left" },\n        },\n        {\n            path: "/about",\n            name: "about",\n            component: AboutView,\n            meta: { transition: "slide-left" },\n        },\n        {\n            path: "/news/",\n            name: "news",\n            component: NewsViews,\n            redirect: "/news/detail/\u767e\u5ea6",\n            children: [\n                {\n                    path: "detail/:name",\n                    name: "detail",\n                    component: NewsDetail,\n                    meta: { transition: "slide-left" },\n                },\n                {\n                    path: "type",\n                    name: "type",\n                    component: NewsType,\n                    meta: { transition: "slide-left" },\n                },\n            ],\n            meta: { transition: "slide-left" },\n        },\n    ],\n});\n\nrouter.beforeEach((to, from, next) => {\n    if (to.name === "home" || to.name === "about") {\n        next();\n    } else {\n        //\u8fd9\u5757\u6362\u6210\u68c0\u9a8ctoken\u7684\u4ee3\u7801\u5373\u53ef\n        if (5 < 100) {\n            console.log("\u901a\u8fc7\u5566 \uff01\uff01\uff01\uff01\uff01");\n            next();\n        } else {\n            console.log("\u51fa\u9519\u5566 \uff01\uff01\uff01\uff01\uff01");\n            next({ name: "home" });\n        }\n    }\n});\n\nexport default router;\n')),(0,o.kt)("h3",{id:"92-\u540e\u7f6e\u5b88\u536b"},"9.2 \u540e\u7f6e\u5b88\u536b"),(0,o.kt)("admonition",{title:"\u539f\u7406",type:"info"},(0,o.kt)("p",{parentName:"admonition"},"\u5b9e\u73b0\u5728\u8def\u7531\u8df3\u8f6c\u540e\u6267\u884c\u7684\u51fd\u6570"),(0,o.kt)("p",{parentName:"admonition"},"\u4e00\u822c\u7528\u4e8e:\u5173\u95ed loading\uff0c\u5173\u95ed\u8fdb\u5ea6\u6761\u7b49\u7b49")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx"},"//\u5168\u5c40\u540e\u7f6e\u5b88\u536b\nrouter.afterEach((to, from) => {\n    Vnode.component?.exposed?.endLoading();\n});\n")))}c.isMDXComponent=!0}}]);